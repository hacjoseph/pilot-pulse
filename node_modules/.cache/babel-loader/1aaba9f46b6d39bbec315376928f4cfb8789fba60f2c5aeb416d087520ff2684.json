{"ast":null,"code":"import React,{useEffect,useState,useRef}from\"react\";import{useParams,Link}from\"react-router-dom\";import\"../Assets/Css/PilotDashboard.css\";import axios from\"axios\";import Sidebar from\"../Components/Sidebar\";import{Line}from\"react-chartjs-2\";import html2canvas from\"html2canvas\";import jsPDF from\"jspdf\";import Modal from\"react-modal\";import{backeEndUrl}from\"../App.js\";import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend}from\"chart.js\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend);const PilotDashboard=()=>{var _dashboardData$pilote,_dashboardData$pilote2,_dashboardData$pilote3,_dashboardData$pilote4,_dashboardData$pilote5,_dashboardData$pilote6,_dashboardData$pilote7,_dashboardData$experi;const{id}=useParams();const[dashboardData,setDashboardData]=useState(null);const[isFullScreen,setIsFullScreen]=useState(false);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[hasFitbitAccount,setHasFitbitAccount]=useState(null);const pdfRef=useRef();useEffect(()=>{const fetchData=async()=>{try{var _data$pilote,_data$pilote2;const response=await axios.get(backeEndUrl+\"/api/pilotes/dashboard/\".concat(id,\"/\"));const data=response.data;setDashboardData(data);console.log(\"Données récupérées:\",data);console.log(\"Fitbit User ID:\",(_data$pilote=data.pilote)===null||_data$pilote===void 0?void 0:_data$pilote.fitbit_user);const fitbitUser=(_data$pilote2=data.pilote)===null||_data$pilote2===void 0?void 0:_data$pilote2.fitbit_user;const hasAccount=fitbitUser&&fitbitUser>0;setHasFitbitAccount(hasAccount);}catch(error){setError(\"Erreur lors de la récupération des données du dashboard\");console.error(\"Erreur lors de la récupération des données du dashboard:\",error);}finally{setLoading(false);}};fetchData();},[id]);const supprimerFitbitAccount=async()=>{try{await axios.delete(backeEndUrl+\"/api/pilotes/fitbit/supprimer/\".concat(id,\"/\"));setHasFitbitAccount(false);}catch(error){console.error(\"Erreur lors de la suppression du compte Fitbit:\",error);}};const ajouterFitbitAccount=async()=>{try{const response=await axios.post(backeEndUrl+\"/api/pilotes/addfitbit/\".concat(id,\"/\"),{redirect_to:\"http://127.0.0.1:3000/pilote/\".concat(id,\"/\")});const authorizationUrl=response.data.authorization_url;if(authorizationUrl){window.location.href=authorizationUrl;}}catch(error){console.error(\"Erreur lors de l'ajout du compte Fitbit:\",error);}};const toggleFullScreen=()=>{setIsFullScreen(!isFullScreen);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Chargement...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error});}if(!dashboardData){return/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:\"Aucune donn\\xE9e disponible pour ce pilote.\"});}const photoUrl=backeEndUrl+\"/pilotes/\".concat((_dashboardData$pilote=dashboardData.pilote)===null||_dashboardData$pilote===void 0?void 0:_dashboardData$pilote.photo);const heart_rate_by_experimentation=dashboardData.heart_rate_by_experimentation;const datasets=Object.keys(heart_rate_by_experimentation).map((experimentId,index)=>{const experiment=heart_rate_by_experimentation[experimentId];return{label:\"Exp\\xE9rimentation \".concat(experimentId),data:experiment[\"data\"].map((y,idx)=>({x:experiment[\"labels\"][idx],y})),borderColor:\"rgba(\".concat(index*100,\", \").concat(150-index*30,\", 200, 1)\"),fill:false,tension:0.4};});const lineData={datasets:datasets};const downloadPDF=()=>{const input=pdfRef.current;html2canvas(input).then(canvas=>{const imgData=canvas.toDataURL(\"image/png\");const pdf=new jsPDF(\"p\",\"mm\",\"a4\",true);const pdfWidth=pdf.internal.pageSize.getWidth();const pdfHeight=pdf.internal.pageSize.getHeight();const imgWidth=canvas.width;const imgHeight=canvas.height;const ratio=Math.min(pdfWidth/imgWidth,pdfHeight/imgHeight);const imgX=(pdfWidth-imgWidth*ratio)/2;const imgY=30;pdf.addImage(imgData,\"PNG\",imgX,imgY,imgWidth*ratio,imgHeight*ratio);pdf.save(\"DashboardPilote.pdf\");});};return/*#__PURE__*/_jsxs(\"div\",{className:\"pilot-dashboard\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-glass\",children:/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"info-exp\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pilot-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Informations sur le pilote\"}),/*#__PURE__*/_jsx(\"img\",{src:photoUrl,alt:\"Photo de \".concat(((_dashboardData$pilote2=dashboardData.pilote)===null||_dashboardData$pilote2===void 0?void 0:_dashboardData$pilote2.prenom)||\"Inconnu\"),className:\"pilot-photo\",onError:e=>{e.target.alt=\"Photo non disponible\";}}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Pr\\xE9nom:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"value-box\",children:/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:((_dashboardData$pilote3=dashboardData.pilote)===null||_dashboardData$pilote3===void 0?void 0:_dashboardData$pilote3.prenom)||\"Inconnu\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Nom:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"value-box\",children:/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:((_dashboardData$pilote4=dashboardData.pilote)===null||_dashboardData$pilote4===void 0?void 0:_dashboardData$pilote4.nom)||\"Inconnu\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"R\\xF4le:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"value-box\",children:/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:((_dashboardData$pilote5=dashboardData.pilote)===null||_dashboardData$pilote5===void 0?void 0:_dashboardData$pilote5.role)||\"Inconnu\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"\\xC2ge:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"value-box\",children:/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:((_dashboardData$pilote6=dashboardData.pilote)===null||_dashboardData$pilote6===void 0?void 0:_dashboardData$pilote6.age)||\"Inconnu\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Fitbit :\"}),/*#__PURE__*/_jsx(\"div\",{className:\"value-box\",children:/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:((_dashboardData$pilote7=dashboardData.pilote)===null||_dashboardData$pilote7===void 0?void 0:_dashboardData$pilote7.fitbit_user)||\"Inconnu\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{children:hasFitbitAccount?/*#__PURE__*/_jsx(\"button\",{className:\"Supfitbit\",onClick:supprimerFitbitAccount,children:\"Supprimer le compte\"}):/*#__PURE__*/_jsx(\"button\",{className:\"ajtfitbit\",onClick:ajouterFitbitAccount,children:\"Ajouter un compte\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"experimentations-table\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Exp\\xE9rimentations associ\\xE9es\"}),((_dashboardData$experi=dashboardData.experimentations)===null||_dashboardData$experi===void 0?void 0:_dashboardData$experi.length)>0?/*#__PURE__*/_jsxs(\"table\",{style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nom de l'exp\\xE9rimentation\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Participants\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dashboardData.experimentations.map(experimentation=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:experimentation.id}),/*#__PURE__*/_jsx(\"td\",{children:experimentation.nom}),/*#__PURE__*/_jsx(\"td\",{children:dashboardData.experiment_members[experimentation.id]?dashboardData.experiment_members[experimentation.id].map(member=>\"\".concat(member[0],\" \").concat(member[1])).join(\", \"):\"Aucun participant\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/experimentation/\".concat(experimentation.id),children:/*#__PURE__*/_jsx(\"button\",{className:\"view-button\",children:\"Consulter\"})})})]},experimentation.id))})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Aucune exp\\xE9rimentation associ\\xE9e\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"graph-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-graph\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Fr\\xE9quence cardiaque au fil du temps\"}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleFullScreen,children:\"Graphique plein \\xE9cran\"})]}),/*#__PURE__*/_jsxs(\"div\",{ref:pdfRef,children:[/*#__PURE__*/_jsxs(Modal,{isOpen:isFullScreen,onRequestClose:toggleFullScreen,style:{content:{width:\"80%\",height:\"100%\",margin:\"auto\"}},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-graph\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Fr\\xE9quence cardiaque au fil du temps\"}),/*#__PURE__*/_jsx(\"button\",{onClick:downloadPDF,children:\"Telechargement Pdf\"}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleFullScreen,children:\"Fermer\"})]}),/*#__PURE__*/_jsx(Line,{data:lineData})]}),lineData.datasets[0].data.length>0?/*#__PURE__*/_jsx(Line,{data:lineData,options:{maintainAspectRatio:true}}):/*#__PURE__*/_jsx(\"p\",{children:\"Aucune donn\\xE9e \\xE0 afficher\"})]})]})]})]})})})]});};export default PilotDashboard;","map":{"version":3,"names":["React","useEffect","useState","useRef","useParams","Link","axios","Sidebar","Line","html2canvas","jsPDF","Modal","backeEndUrl","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","jsx","_jsx","jsxs","_jsxs","register","PilotDashboard","_dashboardData$pilote","_dashboardData$pilote2","_dashboardData$pilote3","_dashboardData$pilote4","_dashboardData$pilote5","_dashboardData$pilote6","_dashboardData$pilote7","_dashboardData$experi","id","dashboardData","setDashboardData","isFullScreen","setIsFullScreen","loading","setLoading","error","setError","hasFitbitAccount","setHasFitbitAccount","pdfRef","fetchData","_data$pilote","_data$pilote2","response","get","concat","data","console","log","pilote","fitbit_user","fitbitUser","hasAccount","supprimerFitbitAccount","delete","ajouterFitbitAccount","post","redirect_to","authorizationUrl","authorization_url","window","location","href","toggleFullScreen","className","children","photoUrl","photo","heart_rate_by_experimentation","datasets","Object","keys","map","experimentId","index","experiment","label","y","idx","x","borderColor","fill","tension","lineData","downloadPDF","input","current","then","canvas","imgData","toDataURL","pdf","pdfWidth","internal","pageSize","getWidth","pdfHeight","getHeight","imgWidth","width","imgHeight","height","ratio","Math","min","imgX","imgY","addImage","save","src","alt","prenom","onError","e","target","nom","role","age","onClick","experimentations","length","style","experimentation","experiment_members","member","join","to","ref","isOpen","onRequestClose","content","margin","options","maintainAspectRatio"],"sources":["C:/Users/houla/OneDrive/Bureau/2023-l3n2/deployement/pilot-pulse/src/Views/PilotDashboard.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport \"../Assets/Css/PilotDashboard.css\";\r\nimport axios from \"axios\";\r\nimport Sidebar from \"../Components/Sidebar\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport html2canvas from \"html2canvas\";\r\nimport jsPDF from \"jspdf\";\r\nimport Modal from \"react-modal\";\r\nimport { backeEndUrl } from \"../App.js\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from \"chart.js\";\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n);\r\n\r\nconst PilotDashboard = () => {\r\n  const { id } = useParams();\r\n  const [dashboardData, setDashboardData] = useState(null);\r\n  const [isFullScreen, setIsFullScreen] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [hasFitbitAccount, setHasFitbitAccount] = useState(null);\r\n  const pdfRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          backeEndUrl + `/api/pilotes/dashboard/${id}/`\r\n        );\r\n        const data = response.data;\r\n        setDashboardData(data);\r\n\r\n        console.log(\"Données récupérées:\", data);\r\n        console.log(\"Fitbit User ID:\", data.pilote?.fitbit_user);\r\n\r\n        const fitbitUser = data.pilote?.fitbit_user;\r\n        const hasAccount = fitbitUser && fitbitUser > 0;\r\n        setHasFitbitAccount(hasAccount);\r\n      } catch (error) {\r\n        setError(\"Erreur lors de la récupération des données du dashboard\");\r\n        console.error(\r\n          \"Erreur lors de la récupération des données du dashboard:\",\r\n          error\r\n        );\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [id]);\r\n\r\n  const supprimerFitbitAccount = async () => {\r\n    try {\r\n      await axios.delete(backeEndUrl + `/api/pilotes/fitbit/supprimer/${id}/`);\r\n      setHasFitbitAccount(false);\r\n    } catch (error) {\r\n      console.error(\"Erreur lors de la suppression du compte Fitbit:\", error);\r\n    }\r\n  };\r\n\r\n  const ajouterFitbitAccount = async () => {\r\n    try {\r\n      const response = await axios.post(\r\n        backeEndUrl + `/api/pilotes/addfitbit/${id}/`,\r\n        {\r\n          redirect_to: `http://127.0.0.1:3000/pilote/${id}/`,\r\n        }\r\n      );\r\n      const authorizationUrl = response.data.authorization_url;\r\n      if (authorizationUrl) {\r\n        window.location.href = authorizationUrl;\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erreur lors de l'ajout du compte Fitbit:\", error);\r\n    }\r\n  };\r\n\r\n  const toggleFullScreen = () => {\r\n    setIsFullScreen(!isFullScreen);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Chargement...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error\">{error}</div>;\r\n  }\r\n\r\n  if (!dashboardData) {\r\n    return (\r\n      <div className=\"no-data\">Aucune donnée disponible pour ce pilote.</div>\r\n    );\r\n  }\r\n\r\n  const photoUrl = backeEndUrl + `/pilotes/${dashboardData.pilote?.photo}`;\r\n\r\n  const heart_rate_by_experimentation =\r\n    dashboardData.heart_rate_by_experimentation;\r\n  const datasets = Object.keys(heart_rate_by_experimentation).map(\r\n    (experimentId, index) => {\r\n      const experiment = heart_rate_by_experimentation[experimentId];\r\n\r\n      return {\r\n        label: `Expérimentation ${experimentId}`,\r\n        data: experiment[\"data\"].map((y, idx) => ({\r\n          x: experiment[\"labels\"][idx],\r\n          y,\r\n        })),\r\n        borderColor: `rgba(${index * 100}, ${150 - index * 30}, 200, 1)`,\r\n        fill: false,\r\n        tension: 0.4,\r\n      };\r\n    }\r\n  );\r\n\r\n  const lineData = {\r\n    datasets: datasets,\r\n  };\r\n\r\n  const downloadPDF = () => {\r\n    const input = pdfRef.current;\r\n    html2canvas(input).then((canvas) => {\r\n      const imgData = canvas.toDataURL(\"image/png\");\r\n      const pdf = new jsPDF(\"p\", \"mm\", \"a4\", true);\r\n      const pdfWidth = pdf.internal.pageSize.getWidth();\r\n      const pdfHeight = pdf.internal.pageSize.getHeight();\r\n      const imgWidth = canvas.width;\r\n      const imgHeight = canvas.height;\r\n      const ratio = Math.min(pdfWidth / imgWidth, pdfHeight / imgHeight);\r\n      const imgX = (pdfWidth - imgWidth * ratio) / 2;\r\n      const imgY = 30;\r\n      pdf.addImage(\r\n        imgData,\r\n        \"PNG\",\r\n        imgX,\r\n        imgY,\r\n        imgWidth * ratio,\r\n        imgHeight * ratio\r\n      );\r\n      pdf.save(\"DashboardPilote.pdf\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"pilot-dashboard\">\r\n      <Sidebar />\r\n      <div className=\"dashboard-glass\">\r\n        <div className=\"dashboard-content\">\r\n          <div className=\"info-exp\">\r\n            <div className=\"pilot-info\">\r\n              <h2>Informations sur le pilote</h2>\r\n\r\n              <img\r\n                src={photoUrl}\r\n                alt={`Photo de ${dashboardData.pilote?.prenom || \"Inconnu\"}`}\r\n                className=\"pilot-photo\"\r\n                onError={(e) => {\r\n                  e.target.alt = \"Photo non disponible\";\r\n                }}\r\n              />\r\n\r\n              <div className=\"info-grid\">\r\n                <div className=\"info-box\">\r\n                  <span className=\"label\">Prénom:</span>\r\n                  <div className=\"value-box\">\r\n                    <span className=\"value\">\r\n                      {dashboardData.pilote?.prenom || \"Inconnu\"}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"info-box\">\r\n                  <span className=\"label\">Nom:</span>\r\n                  <div className=\"value-box\">\r\n                    <span className=\"value\">\r\n                      {dashboardData.pilote?.nom || \"Inconnu\"}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"info-box\">\r\n                  <span className=\"label\">Rôle:</span>\r\n                  <div className=\"value-box\">\r\n                    <span className=\"value\">\r\n                      {dashboardData.pilote?.role || \"Inconnu\"}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"info-box\">\r\n                  <span className=\"label\">Âge:</span>\r\n                  <div className=\"value-box\">\r\n                    <span className=\"value\">\r\n                      {dashboardData.pilote?.age || \"Inconnu\"}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"info-box\">\r\n                  <span className=\"label\">Fitbit :</span>\r\n                  <div className=\"value-box\">\r\n                    <span className=\"value\">\r\n                      {dashboardData.pilote?.fitbit_user || \"Inconnu\"}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                {hasFitbitAccount ? (\r\n                  <button\r\n                    className=\"Supfitbit\"\r\n                    onClick={supprimerFitbitAccount}\r\n                  >\r\n                    Supprimer le compte\r\n                  </button>\r\n                ) : (\r\n                  <button className=\"ajtfitbit\" onClick={ajouterFitbitAccount}>\r\n                    Ajouter un compte\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <div className=\"experimentations-table\">\r\n                <h2>Expérimentations associées</h2>\r\n                {dashboardData.experimentations?.length > 0 ? (\r\n                  <table style={{ width: \"100%\" }}>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>ID</th>\r\n                        <th>Nom de l'expérimentation</th>\r\n                        <th>Participants</th>\r\n                        <th>Action</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {dashboardData.experimentations.map((experimentation) => (\r\n                        <tr key={experimentation.id}>\r\n                          <td>{experimentation.id}</td>\r\n                          <td>{experimentation.nom}</td>\r\n                          <td>\r\n                            {dashboardData.experiment_members[\r\n                              experimentation.id\r\n                            ]\r\n                              ? dashboardData.experiment_members[\r\n                                  experimentation.id\r\n                                ]\r\n                                  .map((member) => `${member[0]} ${member[1]}`)\r\n                                  .join(\", \")\r\n                              : \"Aucun participant\"}\r\n                          </td>\r\n                          <td>\r\n                            <Link to={`/experimentation/${experimentation.id}`}>\r\n                              <button className=\"view-button\">Consulter</button>\r\n                            </Link>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                ) : (\r\n                  <p>Aucune expérimentation associée</p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"graph-container\">\r\n                <div className=\"info-graph\">\r\n                  <h2>Fréquence cardiaque au fil du temps</h2>\r\n                  <button onClick={toggleFullScreen}>\r\n                    Graphique plein écran\r\n                  </button>\r\n                </div>\r\n\r\n                <div ref={pdfRef}>\r\n                  <Modal\r\n                    isOpen={isFullScreen}\r\n                    onRequestClose={toggleFullScreen}\r\n                    style={{\r\n                      content: {\r\n                        width: \"80%\",\r\n                        height: \"100%\",\r\n                        margin: \"auto\",\r\n                      },\r\n                    }}\r\n                  >\r\n                    <div className=\"info-graph\">\r\n                      <h2>Fréquence cardiaque au fil du temps</h2>\r\n                      <button onClick={downloadPDF}>Telechargement Pdf</button>\r\n                      <button onClick={toggleFullScreen}>Fermer</button>\r\n                    </div>\r\n\r\n                    <Line data={lineData} />\r\n                  </Modal>\r\n                  {lineData.datasets[0].data.length > 0 ? (\r\n                    <Line\r\n                      data={lineData}\r\n                      options={{ maintainAspectRatio: true }}\r\n                    />\r\n                  ) : (\r\n                    <p>Aucune donnée à afficher</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PilotDashboard;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,SAAS,CAAEC,IAAI,KAAQ,kBAAkB,CAClD,MAAO,kCAAkC,CACzC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,OAASC,IAAI,KAAQ,iBAAiB,CACtC,MAAO,CAAAC,WAAW,KAAM,aAAa,CACrC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,KAAM,aAAa,CAC/B,OAASC,WAAW,KAAQ,WAAW,CACvC,OACEC,KAAK,GAAI,CAAAC,OAAO,CAChBC,aAAa,CACbC,WAAW,CACXC,YAAY,CACZC,WAAW,CACXC,KAAK,CACLC,OAAO,CACPC,MAAM,KACD,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElBX,OAAO,CAACY,QAAQ,CACdX,aAAa,CACbC,WAAW,CACXC,YAAY,CACZC,WAAW,CACXC,KAAK,CACLC,OAAO,CACPC,MACF,CAAC,CAED,KAAM,CAAAM,cAAc,CAAGA,CAAA,GAAM,KAAAC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,qBAAA,CAC3B,KAAM,CAAEC,EAAG,CAAC,CAAGhC,SAAS,CAAC,CAAC,CAC1B,KAAM,CAACiC,aAAa,CAAEC,gBAAgB,CAAC,CAAGpC,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAACqC,YAAY,CAAEC,eAAe,CAAC,CAAGtC,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACuC,OAAO,CAAEC,UAAU,CAAC,CAAGxC,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACyC,KAAK,CAAEC,QAAQ,CAAC,CAAG1C,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAC2C,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG5C,QAAQ,CAAC,IAAI,CAAC,CAC9D,KAAM,CAAA6C,MAAM,CAAG5C,MAAM,CAAC,CAAC,CAEvBF,SAAS,CAAC,IAAM,CACd,KAAM,CAAA+C,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,KAAAC,YAAA,CAAAC,aAAA,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAA7C,KAAK,CAAC8C,GAAG,CAC9BxC,WAAW,2BAAAyC,MAAA,CAA6BjB,EAAE,KAC5C,CAAC,CACD,KAAM,CAAAkB,IAAI,CAAGH,QAAQ,CAACG,IAAI,CAC1BhB,gBAAgB,CAACgB,IAAI,CAAC,CAEtBC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAEF,IAAI,CAAC,CACxCC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAAP,YAAA,CAAEK,IAAI,CAACG,MAAM,UAAAR,YAAA,iBAAXA,YAAA,CAAaS,WAAW,CAAC,CAExD,KAAM,CAAAC,UAAU,EAAAT,aAAA,CAAGI,IAAI,CAACG,MAAM,UAAAP,aAAA,iBAAXA,aAAA,CAAaQ,WAAW,CAC3C,KAAM,CAAAE,UAAU,CAAGD,UAAU,EAAIA,UAAU,CAAG,CAAC,CAC/Cb,mBAAmB,CAACc,UAAU,CAAC,CACjC,CAAE,MAAOjB,KAAK,CAAE,CACdC,QAAQ,CAAC,yDAAyD,CAAC,CACnEW,OAAO,CAACZ,KAAK,CACX,0DAA0D,CAC1DA,KACF,CAAC,CACH,CAAC,OAAS,CACRD,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CACDM,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACZ,EAAE,CAAC,CAAC,CAER,KAAM,CAAAyB,sBAAsB,CAAG,KAAAA,CAAA,GAAY,CACzC,GAAI,CACF,KAAM,CAAAvD,KAAK,CAACwD,MAAM,CAAClD,WAAW,kCAAAyC,MAAA,CAAoCjB,EAAE,KAAG,CAAC,CACxEU,mBAAmB,CAAC,KAAK,CAAC,CAC5B,CAAE,MAAOH,KAAK,CAAE,CACdY,OAAO,CAACZ,KAAK,CAAC,iDAAiD,CAAEA,KAAK,CAAC,CACzE,CACF,CAAC,CAED,KAAM,CAAAoB,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACvC,GAAI,CACF,KAAM,CAAAZ,QAAQ,CAAG,KAAM,CAAA7C,KAAK,CAAC0D,IAAI,CAC/BpD,WAAW,2BAAAyC,MAAA,CAA6BjB,EAAE,KAAG,CAC7C,CACE6B,WAAW,iCAAAZ,MAAA,CAAkCjB,EAAE,KACjD,CACF,CAAC,CACD,KAAM,CAAA8B,gBAAgB,CAAGf,QAAQ,CAACG,IAAI,CAACa,iBAAiB,CACxD,GAAID,gBAAgB,CAAE,CACpBE,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAGJ,gBAAgB,CACzC,CACF,CAAE,MAAOvB,KAAK,CAAE,CACdY,OAAO,CAACZ,KAAK,CAAC,0CAA0C,CAAEA,KAAK,CAAC,CAClE,CACF,CAAC,CAED,KAAM,CAAA4B,gBAAgB,CAAGA,CAAA,GAAM,CAC7B/B,eAAe,CAAC,CAACD,YAAY,CAAC,CAChC,CAAC,CAED,GAAIE,OAAO,CAAE,CACX,mBAAOlB,IAAA,QAAKiD,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,eAAa,CAAK,CAAC,CACrD,CAEA,GAAI9B,KAAK,CAAE,CACT,mBAAOpB,IAAA,QAAKiD,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAE9B,KAAK,CAAM,CAAC,CAC7C,CAEA,GAAI,CAACN,aAAa,CAAE,CAClB,mBACEd,IAAA,QAAKiD,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,6CAAwC,CAAK,CAAC,CAE3E,CAEA,KAAM,CAAAC,QAAQ,CAAG9D,WAAW,aAAAyC,MAAA,EAAAzB,qBAAA,CAAeS,aAAa,CAACoB,MAAM,UAAA7B,qBAAA,iBAApBA,qBAAA,CAAsB+C,KAAK,CAAE,CAExE,KAAM,CAAAC,6BAA6B,CACjCvC,aAAa,CAACuC,6BAA6B,CAC7C,KAAM,CAAAC,QAAQ,CAAGC,MAAM,CAACC,IAAI,CAACH,6BAA6B,CAAC,CAACI,GAAG,CAC7D,CAACC,YAAY,CAAEC,KAAK,GAAK,CACvB,KAAM,CAAAC,UAAU,CAAGP,6BAA6B,CAACK,YAAY,CAAC,CAE9D,MAAO,CACLG,KAAK,uBAAA/B,MAAA,CAAqB4B,YAAY,CAAE,CACxC3B,IAAI,CAAE6B,UAAU,CAAC,MAAM,CAAC,CAACH,GAAG,CAAC,CAACK,CAAC,CAAEC,GAAG,IAAM,CACxCC,CAAC,CAAEJ,UAAU,CAAC,QAAQ,CAAC,CAACG,GAAG,CAAC,CAC5BD,CACF,CAAC,CAAC,CAAC,CACHG,WAAW,SAAAnC,MAAA,CAAU6B,KAAK,CAAG,GAAG,OAAA7B,MAAA,CAAK,GAAG,CAAG6B,KAAK,CAAG,EAAE,aAAW,CAChEO,IAAI,CAAE,KAAK,CACXC,OAAO,CAAE,GACX,CAAC,CACH,CACF,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAG,CACfd,QAAQ,CAAEA,QACZ,CAAC,CAED,KAAM,CAAAe,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAC,KAAK,CAAG9C,MAAM,CAAC+C,OAAO,CAC5BrF,WAAW,CAACoF,KAAK,CAAC,CAACE,IAAI,CAAEC,MAAM,EAAK,CAClC,KAAM,CAAAC,OAAO,CAAGD,MAAM,CAACE,SAAS,CAAC,WAAW,CAAC,CAC7C,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAAzF,KAAK,CAAC,GAAG,CAAE,IAAI,CAAE,IAAI,CAAE,IAAI,CAAC,CAC5C,KAAM,CAAA0F,QAAQ,CAAGD,GAAG,CAACE,QAAQ,CAACC,QAAQ,CAACC,QAAQ,CAAC,CAAC,CACjD,KAAM,CAAAC,SAAS,CAAGL,GAAG,CAACE,QAAQ,CAACC,QAAQ,CAACG,SAAS,CAAC,CAAC,CACnD,KAAM,CAAAC,QAAQ,CAAGV,MAAM,CAACW,KAAK,CAC7B,KAAM,CAAAC,SAAS,CAAGZ,MAAM,CAACa,MAAM,CAC/B,KAAM,CAAAC,KAAK,CAAGC,IAAI,CAACC,GAAG,CAACZ,QAAQ,CAAGM,QAAQ,CAAEF,SAAS,CAAGI,SAAS,CAAC,CAClE,KAAM,CAAAK,IAAI,CAAG,CAACb,QAAQ,CAAGM,QAAQ,CAAGI,KAAK,EAAI,CAAC,CAC9C,KAAM,CAAAI,IAAI,CAAG,EAAE,CACff,GAAG,CAACgB,QAAQ,CACVlB,OAAO,CACP,KAAK,CACLgB,IAAI,CACJC,IAAI,CACJR,QAAQ,CAAGI,KAAK,CAChBF,SAAS,CAAGE,KACd,CAAC,CACDX,GAAG,CAACiB,IAAI,CAAC,qBAAqB,CAAC,CACjC,CAAC,CAAC,CACJ,CAAC,CAED,mBACE3F,KAAA,QAAK+C,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BlD,IAAA,CAAChB,OAAO,GAAE,CAAC,cACXgB,IAAA,QAAKiD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9BlD,IAAA,QAAKiD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChChD,KAAA,QAAK+C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBhD,KAAA,QAAK+C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBlD,IAAA,OAAAkD,QAAA,CAAI,4BAA0B,CAAI,CAAC,cAEnClD,IAAA,QACE8F,GAAG,CAAE3C,QAAS,CACd4C,GAAG,aAAAjE,MAAA,CAAc,EAAAxB,sBAAA,CAAAQ,aAAa,CAACoB,MAAM,UAAA5B,sBAAA,iBAApBA,sBAAA,CAAsB0F,MAAM,GAAI,SAAS,CAAG,CAC7D/C,SAAS,CAAC,aAAa,CACvBgD,OAAO,CAAGC,CAAC,EAAK,CACdA,CAAC,CAACC,MAAM,CAACJ,GAAG,CAAG,sBAAsB,CACvC,CAAE,CACH,CAAC,cAEF7F,KAAA,QAAK+C,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBhD,KAAA,QAAK+C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBlD,IAAA,SAAMiD,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,YAAO,CAAM,CAAC,cACtClD,IAAA,QAAKiD,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBlD,IAAA,SAAMiD,SAAS,CAAC,OAAO,CAAAC,QAAA,CACpB,EAAA3C,sBAAA,CAAAO,aAAa,CAACoB,MAAM,UAAA3B,sBAAA,iBAApBA,sBAAA,CAAsByF,MAAM,GAAI,SAAS,CACtC,CAAC,CACJ,CAAC,EACH,CAAC,cACN9F,KAAA,QAAK+C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBlD,IAAA,SAAMiD,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,MAAI,CAAM,CAAC,cACnClD,IAAA,QAAKiD,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBlD,IAAA,SAAMiD,SAAS,CAAC,OAAO,CAAAC,QAAA,CACpB,EAAA1C,sBAAA,CAAAM,aAAa,CAACoB,MAAM,UAAA1B,sBAAA,iBAApBA,sBAAA,CAAsB4F,GAAG,GAAI,SAAS,CACnC,CAAC,CACJ,CAAC,EACH,CAAC,cACNlG,KAAA,QAAK+C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBlD,IAAA,SAAMiD,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,UAAK,CAAM,CAAC,cACpClD,IAAA,QAAKiD,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBlD,IAAA,SAAMiD,SAAS,CAAC,OAAO,CAAAC,QAAA,CACpB,EAAAzC,sBAAA,CAAAK,aAAa,CAACoB,MAAM,UAAAzB,sBAAA,iBAApBA,sBAAA,CAAsB4F,IAAI,GAAI,SAAS,CACpC,CAAC,CACJ,CAAC,EACH,CAAC,cACNnG,KAAA,QAAK+C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBlD,IAAA,SAAMiD,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,SAAI,CAAM,CAAC,cACnClD,IAAA,QAAKiD,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBlD,IAAA,SAAMiD,SAAS,CAAC,OAAO,CAAAC,QAAA,CACpB,EAAAxC,sBAAA,CAAAI,aAAa,CAACoB,MAAM,UAAAxB,sBAAA,iBAApBA,sBAAA,CAAsB4F,GAAG,GAAI,SAAS,CACnC,CAAC,CACJ,CAAC,EACH,CAAC,cACNpG,KAAA,QAAK+C,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBlD,IAAA,SAAMiD,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,UAAQ,CAAM,CAAC,cACvClD,IAAA,QAAKiD,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBlD,IAAA,SAAMiD,SAAS,CAAC,OAAO,CAAAC,QAAA,CACpB,EAAAvC,sBAAA,CAAAG,aAAa,CAACoB,MAAM,UAAAvB,sBAAA,iBAApBA,sBAAA,CAAsBwB,WAAW,GAAI,SAAS,CAC3C,CAAC,CACJ,CAAC,EACH,CAAC,EACH,CAAC,cAENnC,IAAA,QAAAkD,QAAA,CACG5B,gBAAgB,cACftB,IAAA,WACEiD,SAAS,CAAC,WAAW,CACrBsD,OAAO,CAAEjE,sBAAuB,CAAAY,QAAA,CACjC,qBAED,CAAQ,CAAC,cAETlD,IAAA,WAAQiD,SAAS,CAAC,WAAW,CAACsD,OAAO,CAAE/D,oBAAqB,CAAAU,QAAA,CAAC,mBAE7D,CAAQ,CACT,CACE,CAAC,EACH,CAAC,cAENhD,KAAA,QAAAgD,QAAA,eACEhD,KAAA,QAAK+C,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrClD,IAAA,OAAAkD,QAAA,CAAI,kCAA0B,CAAI,CAAC,CAClC,EAAAtC,qBAAA,CAAAE,aAAa,CAAC0F,gBAAgB,UAAA5F,qBAAA,iBAA9BA,qBAAA,CAAgC6F,MAAM,EAAG,CAAC,cACzCvG,KAAA,UAAOwG,KAAK,CAAE,CAAEtB,KAAK,CAAE,MAAO,CAAE,CAAAlC,QAAA,eAC9BlD,IAAA,UAAAkD,QAAA,cACEhD,KAAA,OAAAgD,QAAA,eACElD,IAAA,OAAAkD,QAAA,CAAI,IAAE,CAAI,CAAC,cACXlD,IAAA,OAAAkD,QAAA,CAAI,6BAAwB,CAAI,CAAC,cACjClD,IAAA,OAAAkD,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBlD,IAAA,OAAAkD,QAAA,CAAI,QAAM,CAAI,CAAC,EACb,CAAC,CACA,CAAC,cACRlD,IAAA,UAAAkD,QAAA,CACGpC,aAAa,CAAC0F,gBAAgB,CAAC/C,GAAG,CAAEkD,eAAe,eAClDzG,KAAA,OAAAgD,QAAA,eACElD,IAAA,OAAAkD,QAAA,CAAKyD,eAAe,CAAC9F,EAAE,CAAK,CAAC,cAC7Bb,IAAA,OAAAkD,QAAA,CAAKyD,eAAe,CAACP,GAAG,CAAK,CAAC,cAC9BpG,IAAA,OAAAkD,QAAA,CACGpC,aAAa,CAAC8F,kBAAkB,CAC/BD,eAAe,CAAC9F,EAAE,CACnB,CACGC,aAAa,CAAC8F,kBAAkB,CAC9BD,eAAe,CAAC9F,EAAE,CACnB,CACE4C,GAAG,CAAEoD,MAAM,KAAA/E,MAAA,CAAQ+E,MAAM,CAAC,CAAC,CAAC,MAAA/E,MAAA,CAAI+E,MAAM,CAAC,CAAC,CAAC,CAAE,CAAC,CAC5CC,IAAI,CAAC,IAAI,CAAC,CACb,mBAAmB,CACrB,CAAC,cACL9G,IAAA,OAAAkD,QAAA,cACElD,IAAA,CAAClB,IAAI,EAACiI,EAAE,qBAAAjF,MAAA,CAAsB6E,eAAe,CAAC9F,EAAE,CAAG,CAAAqC,QAAA,cACjDlD,IAAA,WAAQiD,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,WAAS,CAAQ,CAAC,CAC9C,CAAC,CACL,CAAC,GAlBEyD,eAAe,CAAC9F,EAmBrB,CACL,CAAC,CACG,CAAC,EACH,CAAC,cAERb,IAAA,MAAAkD,QAAA,CAAG,uCAA+B,CAAG,CACtC,EACE,CAAC,cAENhD,KAAA,QAAK+C,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BhD,KAAA,QAAK+C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBlD,IAAA,OAAAkD,QAAA,CAAI,wCAAmC,CAAI,CAAC,cAC5ClD,IAAA,WAAQuG,OAAO,CAAEvD,gBAAiB,CAAAE,QAAA,CAAC,0BAEnC,CAAQ,CAAC,EACN,CAAC,cAENhD,KAAA,QAAK8G,GAAG,CAAExF,MAAO,CAAA0B,QAAA,eACfhD,KAAA,CAACd,KAAK,EACJ6H,MAAM,CAAEjG,YAAa,CACrBkG,cAAc,CAAElE,gBAAiB,CACjC0D,KAAK,CAAE,CACLS,OAAO,CAAE,CACP/B,KAAK,CAAE,KAAK,CACZE,MAAM,CAAE,MAAM,CACd8B,MAAM,CAAE,MACV,CACF,CAAE,CAAAlE,QAAA,eAEFhD,KAAA,QAAK+C,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBlD,IAAA,OAAAkD,QAAA,CAAI,wCAAmC,CAAI,CAAC,cAC5ClD,IAAA,WAAQuG,OAAO,CAAElC,WAAY,CAAAnB,QAAA,CAAC,oBAAkB,CAAQ,CAAC,cACzDlD,IAAA,WAAQuG,OAAO,CAAEvD,gBAAiB,CAAAE,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC/C,CAAC,cAENlD,IAAA,CAACf,IAAI,EAAC8C,IAAI,CAAEqC,QAAS,CAAE,CAAC,EACnB,CAAC,CACPA,QAAQ,CAACd,QAAQ,CAAC,CAAC,CAAC,CAACvB,IAAI,CAAC0E,MAAM,CAAG,CAAC,cACnCzG,IAAA,CAACf,IAAI,EACH8C,IAAI,CAAEqC,QAAS,CACfiD,OAAO,CAAE,CAAEC,mBAAmB,CAAE,IAAK,CAAE,CACxC,CAAC,cAEFtH,IAAA,MAAAkD,QAAA,CAAG,gCAAwB,CAAG,CAC/B,EACE,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9C,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}