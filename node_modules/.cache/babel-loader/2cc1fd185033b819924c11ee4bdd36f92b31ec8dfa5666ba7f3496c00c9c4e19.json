{"ast":null,"code":"import React,{useState}from\"react\";import{useHistory}from\"react-router\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const backeEndUrl='https://pilotpulse.pythonanywhere.com';const REGISTER_URL=backeEndUrl+\"/signup\";function RegisterPage(){const history=useHistory();const[username,setUsername]=useState(\"\");const[firstName,setFirstName]=useState(\"\");const[lastName,setLastName]=useState(\"\");const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(\"\");const handleRegister=async e=>{e.preventDefault();try{await axios.post(REGISTER_URL,{username:username,first_name:firstName,last_name:lastName,email:email,password:password});setUsername(\"\");setFirstName(\"\");setLastName(\"\");setEmail(\"\");setPassword(\"\");history.push(\"/login\");}catch(error){console.error(\"Erreur lors de l\",\"inscription :\",error.message);setError(\"Une erreur s\",\"est produite lors de l\",\"inscription. Veuillez réessayer.\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"register-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"register-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Inscription\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Nom d'utilisateur :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"username\",id:\"username\",name:\"username\",value:username,onChange:e=>setUsername(e.target.value),placeholder:\"Entrez votre nom d'utilisateur\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"first_name\",children:\"Pr\\xE9nom :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"username\",id:\"first_name\",name:\"first_name\",value:firstName,onChange:e=>setFirstName(e.target.value),placeholder:\"Entrez votre pr\\xE9nom\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"last_name\",children:\"Nom :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"username\",id:\"last_name\",name:\"last_name\",value:lastName,onChange:e=>setLastName(e.target.value),placeholder:\"Entrez votre nom\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Entrez votre email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Mot de passe :\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Entrez votre mot de passe\",required:true})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"register-button\",children:\"Inscription\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Vous avez d\\xE9j\\xE0 un compte ?\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"rgt\",onClick:()=>history.push(\"/login\"),children:\"Se connecter\"})]})]})});}export default RegisterPage;","map":{"version":3,"names":["React","useState","useHistory","axios","jsx","_jsx","jsxs","_jsxs","backeEndUrl","REGISTER_URL","RegisterPage","history","username","setUsername","firstName","setFirstName","lastName","setLastName","email","setEmail","password","setPassword","error","setError","handleRegister","e","preventDefault","post","first_name","last_name","push","console","message","className","children","onSubmit","htmlFor","type","id","name","value","onChange","target","placeholder","required","onClick"],"sources":["C:/Users/houla/OneDrive/Bureau/2023-l3n2/deployement/pilot-pulse/src/Views/RegisterPage.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport axios from \"axios\";\r\n\r\nconst backeEndUrl = 'https://pilotpulse.pythonanywhere.com';\r\n\r\nconst REGISTER_URL = backeEndUrl + \"/signup\";\r\n\r\nfunction RegisterPage() {\r\n  const history = useHistory();\r\n\r\n  const [username, setUsername] = useState(\"\");\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post(REGISTER_URL, {\r\n        username: username,\r\n        first_name: firstName,\r\n        last_name: lastName,\r\n        email: email,\r\n        password: password,\r\n      });\r\n\r\n      setUsername(\"\");\r\n      setFirstName(\"\");\r\n      setLastName(\"\");\r\n      setEmail(\"\");\r\n      setPassword(\"\");\r\n      history.push(\"/login\");\r\n    } catch (error) {\r\n      console.error(\"Erreur lors de l\", \"inscription :\", error.message);\r\n      setError(\r\n        \"Une erreur s\",\r\n        \"est produite lors de l\",\r\n        \"inscription. Veuillez réessayer.\"\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-page\">\r\n      <div className=\"register-container\">\r\n        <h2>Inscription</h2>\r\n        <form onSubmit={handleRegister}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"username\">Nom d'utilisateur :</label>\r\n            <input\r\n              type=\"username\"\r\n              id=\"username\"\r\n              name=\"username\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              placeholder=\"Entrez votre nom d'utilisateur\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"first_name\">Prénom :</label>\r\n            <input\r\n              type=\"username\"\r\n              id=\"first_name\"\r\n              name=\"first_name\"\r\n              value={firstName}\r\n              onChange={(e) => setFirstName(e.target.value)}\r\n              placeholder=\"Entrez votre prénom\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"last_name\">Nom :</label>\r\n            <input\r\n              type=\"username\"\r\n              id=\"last_name\"\r\n              name=\"last_name\"\r\n              value={lastName}\r\n              onChange={(e) => setLastName(e.target.value)}\r\n              placeholder=\"Entrez votre nom\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"email\">Email :</label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              placeholder=\"Entrez votre email\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Mot de passe :</label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              placeholder=\"Entrez votre mot de passe\"\r\n              required\r\n            />\r\n          </div>\r\n          {error && <p className=\"error\">{error}</p>}\r\n          <button type=\"submit\" className=\"register-button\">\r\n            Inscription\r\n          </button>\r\n        </form>\r\n        <p>\r\n          Vous avez déjà un compte ?{\" \"}\r\n          <span className=\"rgt\" onClick={() => history.push(\"/login\")}>\r\n            Se connecter\r\n          </span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RegisterPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}